<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card√°pio da Hamburgueria</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <header>
        <h1>Hamburguer Artesano</h1>
        <div class="auth-buttons">
            <!-- BOT√ïES DE ADMIN -->
            <button id="open-admin-btn" class="auth-btn" style="border-color: #ff4757; color: #ff4757; display: none;">‚öôÔ∏è Novo Produto</button>
            <button id="open-admin-orders-btn" class="auth-btn" style="border-color: #ff9f43; color: #ff9f43; display: none;">üì¶ Gerenciar Pedidos</button>
            
            <button id="open-orders-btn" class="auth-btn" style="display: none;">üìú Meus Pedidos</button>
            
            <!-- NOVO BOT√ÉO DE IA -->
            <button id="open-ai-btn" class="auth-btn" style="border-color: #9b59b6; color: #9b59b6;">‚ú® Chef IA</button>

            <button id="open-delivery-btn" class="auth-btn">üõµ Entregadores</button>

            <button id="open-login" class="auth-btn">Login</button>
            <button id="open-register" class="auth-btn">Cadastro</button>
            <span id="user-icon" class="auth-btn user-icon" style="display: none;">üë§</span>
            <button id="open-cart-btn" class="auth-btn cart-btn">üõí</button>
        </div>
    </header>
    
    <section id="hero-section">
        <img src="img/logo.png" alt="Logo da Hamburgueria" class="logo">
        <h2>O Sabor que Marca.</h2>
    </section>

    <main id="menu-container">
        <nav id="tabs-navigation" class="tabs-nav"></nav>
        <div id="tabs-content"></div>
    </main>
    
    <!-- MODAL DE DETALHES DO ITEM -->
    <div id="itemModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div class="modal-body">
                <h3 id="modal-title">Nome do Item</h3>
                <p id="modal-description">Descri√ß√£o completa do item.</p>
                <div id="modal-adicionais"></div>
                <div id="combo-options" style="display: none;">
                    <label for="refrigerante-select">Escolha sua bebida:</label>
                    <select id="refrigerante-select"></select>
                </div>
                <div class="observacoes">
                    <label for="observacoes-input">Observa√ß√µes:</label>
                    <textarea id="observacoes-input" rows="3" placeholder="Ex: Sem cebola, ponto da carne mal passado..."></textarea>
                </div>
                <p id="total-price" class="preco">Total: R$ 00,00</p>
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button id="edit-product-btn" style="background-color: #333; width: 30%; margin-top: 0;">‚úèÔ∏è Editar</button>
                    <button style="margin-top: 0;">Adicionar ao Pedido</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DE LOGIN -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div class="modal-body">
                <h3>Login</h3>
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Senha</label>
                        <input type="password" id="login-password" required>
                    </div>
                    <button type="submit">Entrar</button>
                </form>
                <p class="switch-form">N√£o tem uma conta? <a href="#" id="switchToRegister">Cadastre-se</a></p>
            </div>
        </div>
    </div>

    <!-- MODAL DE CADASTRO -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div class="modal-body">
                <h3>Criar Conta</h3>
                <form id="register-form">
                    <div class="form-group">
                        <label for="register-name">Nome</label>
                        <input type="text" id="register-name" required>
                    </div>
                    <div class="form-group">
                        <label for="register-email">Email</label>
                        <input type="email" id="register-email" required>
                    </div>
                    <div class="form-group">
                        <label for="register-password">Senha</label>
                        <input type="password" id="register-password" required>
                    </div>
                    <button type="submit">Cadastrar</button>
                </form>
                <p class="switch-form">J√° tem uma conta? <a href="#" id="switchToLogin">Fa√ßa login</a></p>
            </div>
        </div>
    </div>

    <!-- MODAL DO CARRINHO -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div class="modal-body">
                <h3>Meu Carrinho</h3>
                <div id="cart-items-container"></div>
                <div id="cart-footer">
                    <p id="cart-total-price" class="preco">Total: R$ 0,00</p>
                    <button>Finalizar Pedido</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DE HIST√ìRICO DE PEDIDOS -->
    <div id="ordersModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div class="modal-body">
                <h3>Meus Pedidos</h3>
                <div id="orders-list" style="max-height: 60vh; overflow-y: auto;"></div>
            </div>
        </div>
    </div>

    <!-- MODAL DE ADMIN -->
    <div id="adminModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div class="modal-body">
                <h3 id="admin-modal-title">Novo Produto</h3>
                <form id="product-form">
                    <input type="hidden" id="prod-id">
                    <div class="form-group">
                        <label>Categoria</label>
                        <select id="prod-category" required></select>
                    </div>
                    <div class="form-group">
                        <label>Nome do Produto</label>
                        <input type="text" id="prod-name" required>
                    </div>
                    <div class="form-group">
                        <label>Descri√ß√£o</label>
                        <textarea id="prod-desc" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Pre√ßo (R$)</label>
                        <input type="number" id="prod-price" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>URL da Imagem</label>
                        <input type="text" id="prod-img">
                    </div>
                    <div class="form-group">
                        <label>Adicionais Dispon√≠veis:</label>
                        <div id="adicionais-container" class="adicionais-grid"></div>
                    </div>
                    <button type="submit" style="background-color: #ff4757; color: white;">Salvar Produto</button>
                </form>
            </div>
        </div>
    </div>

    <div id="adminOrdersModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close-button">&times;</span>
            <div class="modal-body">
                <h3 style="color: #ff9f43;">Gerenciar Pedidos</h3>
                <div id="admin-orders-list" style="max-height: 70vh; overflow-y: auto;"></div>
            </div>
        </div>
    </div>

    <!-- MODAL: ENTREGADORES -->
    <div id="deliveryModal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <span class="close-button">&times;</span>
            <div class="modal-body">
                <h3>Buscar Entregadores</h3>
                <form id="delivery-search-form" style="display: flex; gap: 10px; margin-bottom: 20px;">
                    <input type="text" id="delivery-address" placeholder="Digite seu endere√ßo" required>
                    <button id="search-delivery-btn" style="width: auto; margin-top: 0;">üîç Buscar</button>
                </form>
                <div id="delivery-map" style="height: 250px; width: 100%; border-radius: 8px; margin-bottom: 20px;"></div>
                <h4>Entregadores Pr√≥ximos</h4>
                <div id="drivers-list" class="drivers-grid">
                    <p style="color: #888;">Digite um endere√ßo para buscar.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- NOVO MODAL: CHEF IA -->
    <div id="aiModal" class="modal">
        <div class="modal-content" style="max-width: 500px; border-color: #9b59b6;">
            <span class="close-button">&times;</span>
            <div class="modal-body">
                <h3 style="color: #9b59b6;">Chef IA Artesano ü§ñ</h3>
                <p style="color: #ccc; font-size: 0.9rem;">Diga o que voc√™ gosta (ex: "algo picante", "estou com muita fome") e eu escolho para voc√™!</p>
                
                <div class="ai-chat-interface">
                    <input type="text" id="ai-input" placeholder="O que voc√™ deseja comer hoje?" autocomplete="off">
                    <button id="ai-send-btn" style="background-color: #9b59b6;">Enviar</button>
                </div>

                <div id="ai-loading" style="display: none; text-align: center; margin: 20px 0;">
                    <p>üç≥ O Chef est√° pensando...</p>
                </div>

                <div id="ai-result" style="margin-top: 20px;"></div>
            </div>
        </div>
    </div>

    <footer class="site-footer">
        <div class="map-container">
            <div id="map"></div>
        </div>
        <div class="address-container">
            <h3>Nossa Localiza√ß√£o</h3>
            <p>UNIESP | Bloco Central<br>BR-230, Km 14, Cabedelo - PB</p>
        </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script type="module" src="js/app.js"></script>
</body>
</html>